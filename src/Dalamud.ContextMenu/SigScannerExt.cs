//------------------------------------------------------------------------------
// <auto-generated>
// Suppress stylecop rules to avoid fixing all these warnings right now.
// </auto-generated>
//------------------------------------------------------------------------------
namespace Dalamud.ContextMenu;

using System;
using System.Collections.Generic;
using Dalamud.Game;

internal static class SigScannerExt {
    /// <summary>
    /// Scan for a signature in memory.
    /// </summary>
    /// <param name="scanner">SigScanner to use for scanning</param>
    /// <param name="sig">signature to search for</param>
    /// <param name="result">pointer where signature was found or <see cref="IntPtr.Zero"/> if not found</param>
    /// <param name="name">name of this signature - if specified, a warning will be printed if the signature could not be found</param>
    /// <returns>true if signature was found</returns>
    internal static bool TryScanText(this ISigScanner scanner, string sig, out IntPtr result, string? name = null) {
        result = IntPtr.Zero;
        try {
            result = scanner.ScanText(sig);
            return true;
        } catch (KeyNotFoundException) {
            if (name != null) {
                Service.Logger.Warning($"Could not find signature {name}");
            }

            return false;
        }
    }
}